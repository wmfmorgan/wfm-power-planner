/* ===================================================== */
/* WFM POWER PLANNER — main.css                          */
/* TENET #2 ENFORCED: PURE CSS. NO INLINE. NO DRIFT.     */
/* LAST UPDATED: 2025-12-09 — MODAL SUPLEX + DENSITY     */
/* HULKAMANIA CERTIFIED — ETERNAL DOMINATION EDITION     */
/* ===================================================== */

/* ============================================= */
/* 1. KANBAN DRAG STATES — HULKAMANIA CERTIFIED  */
/* ============================================= */
.kanban-ghost {
  background: rgba(30, 30, 40, 0.98) !important;
  border: 3px dashed #eab308 !important;
  opacity: 0.7;
  transform: rotate(6deg) scale(0.95);
  box-shadow: 0 0 30px rgba(234, 179, 8, 0.6);
}

.kanban-chosen {
  opacity: 0.9;
  transform: scale(1.08);
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8) !important;
  transition: all 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.kanban-dragging {
  transform: rotate(10deg) scale(1.12);
  z-index: 9999;
  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.9);
}

/* ============================================= */
/* 2. GOAL TREE INDENTATION & ANIMATIONS        */
/* ============================================= */
.goal-expanded {
  animation: slideDown 0.4s ease-out;
}

@keyframes slideDown {
  from { opacity: 0; max-height: 0; }
  to { opacity: 1; max-height: 1000px; }
}

.goal-item[data-depth="1"] > .goal-header { padding-left: 2rem; }
.goal-item[data-depth="2"] > .goal-header { padding-left: 4rem; }
.goal-item[data-depth="3"] > .goal-header { padding-left: 6rem; }
.goal-item[data-depth="4"] > .goal-header { padding-left: 8rem; }
.goal-item[data-depth="5"] > .goal-header { padding-left: 10rem; }

/* ============================================= */
/* 3. KANBAN BOARD — RESPONSIVE DOMINATION      */
/* ============================================= */
#kanban {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 2rem;
  padding-bottom: 2rem;
  overflow-x: auto;
}

@media (max-width: 768px) {
  #kanban {
    grid-template-columns: repeat(5, 320px);
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding: 0 1rem 3rem;
  }
  #kanban > div {
    scroll-snap-align: start;
  }
}

#kanban [id] {
  min-height: 70vh;
  max-height: 82vh;
  overflow-y: auto;
  padding: 1.5rem;
  background: rgba(31, 41, 55, 0.95);
  border-radius: 1rem;
  border: 1px solid #374151;
  scrollbar-width: thin;
  scrollbar-color: #facc15 #1f2937;
}

#kanban [id]::-webkit-scrollbar { width: 10px; }
#kanban [id]::-webkit-scrollbar-track { background: #1f2937; border-radius: 6px; }
#kanban [id]::-webkit-scrollbar-thumb { background: #facc15; border-radius: 6px; }
#kanban [id]::-webkit-scrollbar-thumb:hover { background: #ca8a04; }

#kanban h3 {
  font-size: 1.5rem !important;
  font-weight: 900 !important;
  letter-spacing: 0.05em;
  text-shadow: 0 0 12px currentColor;
  padding-bottom: 0.75rem;
  border-bottom: 4px solid currentColor;
  opacity: 0.95;
  margin-bottom: 1.5rem;
}

/* ============================================= */
/* 4. GOAL CARD — DENSITY WITHOUT WEAKNESS      */
/* ============================================= */
.goal-card {
  word-wrap: break-word;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  hyphens: auto;
  height: fit-content;
  padding: 1rem !important;
  gap: 0.5rem;
}

#kanban [id] .goal-card + .goal-card {
  margin-top: 1rem;
}

.goal-card > div:first-child {
  font-size: 1.05rem !important;
  line-height: 1.35 !important;
  margin-bottom: 0.5rem !important;
  overflow: hidden;
  display: -webkit-box;
  display: box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  box-orient: vertical;
  text-overflow: ellipsis;
}

.goal-card .mt-4 {
  margin-top: 0.75rem !important;
  padding-top: 0.75rem !important;
}

/* ============================================= */
/* 6. MODAL TRANSITIONS — CLEAN, ETERNAL, FLAWLESS */
/* ============================================= */
#goal-modal {
  transition: opacity 0.32s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.32s;
}

/* Default closed state — matches HTML class */
#goal-modal.invisible {
  visibility: hidden;
}

/* Open state — applied by JS */
#goal-modal.visible {
  visibility: visible;
}

/* TAILWIND PURGE — ETERNAL REPLACEMENTS (add once, win forever) */
.pad { padding: 1rem; }
.pad-lg { padding: 1.5rem; }
.pad-xl { padding: 2rem; }
.pad-x { padding-left: 1rem; padding-right: 1rem; }
.pad-y { padding-top: 1rem; padding-bottom: 1rem; }
.bg-dark { background: #111827; }
.bg-card { background: #1f2937; }
.text-gold { color: #facc15; }
.text-muted { color: #9ca3af; }
.rounded { border-radius: 0.5rem; }
.rounded-xl { border-radius: 1rem; }
.shadow-heavy { box-shadow: 0 25px 50px -12px rgba(0,0,0,0.8); }
.hover-grow:hover { transform: scale(1.05); transition: transform 0.2s; }
.week-grid { display: grid; grid-template-columns: repeat(7,minmax(0,1fr)); gap: 1.5rem; }
.week-grid-8 { display: grid; grid-template-columns: repeat(8,minmax(0,1fr)); gap: 1.5rem; }